To run the tests in can_ut.c you need to have cmocka installed.

gcc -lcmocka -I<$CMOCKA_ROOT>/include/cmockery -I<$CMOCKA_ROOT>/include \
    -L<$CMOCKA_ROOT>/lib can.c can_ut.c
